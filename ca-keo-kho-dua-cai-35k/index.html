<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="google" content="notranslate">
    <meta property="og:locale" content="vi_VN">
    <meta property="og:description" content="Góp phần xây dựng cuộc sống - brick.dnd.vn">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="CƠM PHÚC KÝ">
    <meta property="og:title" content="ca-keo-kho-dua-cai-35k">
    <meta property="og:image" content="http://caunoi.dnd.vn/ca-keo-kho-dua-cai-35k/0.jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <link href="../loading.css" rel="stylesheet" />
    <style type="text/css">
        html, body {
            position: relative;
            height: 100%;
            overflow: hidden;
            font-family: Helvetica Neue, Helvetica, Arial, sans-serif;
            font-size: 14px;
            margin: 0;
            padding: 0;
        }

        .bx-loading {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0px;
            left: 0px;
            background: transparent url(../imgs/pattern.png) repeat top left;
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        .fadeIn {
            animation: fadeIn .5s ease-in-out;
        }

        @keyframes fadeOut {
            0% {
                opacity: 1;
            }

            100% {
                opacity: 0;
            }
        }

        .fadeOut {
            animation: fadeOut .5s ease-in-out;
        }
    </style>

</head>
<body>
    <div class="flip-container" id="flip-toggle">
        <div class="flipper">
            <div class="front">
                <!-- Swiper -->
                <div class="swiper-container gallery-top">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide initbg" style="background-image:url(0.jpg)"></div>
                    </div>
                    <!-- Add Arrows -->
                    <div class="swiper-button-next swiper-button-white"></div>
                    <div class="swiper-button-prev swiper-button-white"></div>
                </div>
                <div class="swiper-container gallery-thumbs">
                </div>
            </div>
            <div class="back iframe-wrapper"></div>
        </div>
    </div>
    <!--<div class="bx-loading"></div>-->
    <div class="loading">
        <span>Loading ...</span>
    </div>

    <script type="text/javascript">
        function loadjscssfile(filename, filetype, cb) {
            if (filetype == "js") { //if filename is a external JavaScript file
                var fileref = document.createElement('script')
                fileref.setAttribute("type", "text/javascript");
                fileref.setAttribute("src", filename);
            }
            else if (filetype == "css") { //if filename is an external CSS file
                var fileref = document.createElement("link")
                fileref.setAttribute("rel", "stylesheet");
                fileref.setAttribute("type", "text/css");
                fileref.setAttribute("href", filename);
            }
            if (typeof fileref != "undefined") {
                if (cb) fileref.onload = cb;
                document.getElementsByTagName("head")[0].appendChild(fileref);
            }
        }
        function whichTransitionEvent() {
            var t;
            var el = document.createElement('fakeelement');
            var transitions = {
                'transition': 'transitionend',
                'OTransition': 'oTransitionEnd',
                'MozTransition': 'transitionend',
                'WebkitTransition': 'webkitTransitionEnd'
            }

            for (t in transitions) {
                if (el.style[t] !== undefined) {
                    return transitions[t];
                }
            }
        }

        (function () {
            loadjscssfile('https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/css/swiper.min.css', 'css', function () {
                loadjscssfile('https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.0/js/swiper.min.js', 'js', function () {
                    var thumbs = document.querySelector('.gallery-thumbs'),placeOrder = document.createElement("div");
                    placeOrder.innerHTML = '<div class="wrapper" style="right:10px"><a href="javascript:void(0)" id="placeorder" class="fancy-button bg-gradient1"><span style="padding:16px 20px;white-space:nowrap;font-size: larger;">MỜI ĐẶT CƠM</span></a></div>';
                    thumbs.parentNode.insertBefore(placeOrder.childNodes[0], thumbs.previousElementSibling);
                    //
                    thumbs.innerHTML = '<div class="swiper-wrapper"><div class="swiper-slide" style="background-image:url(0.jpg)"></div></div>';
                    var galleryThumbs = new Swiper('.gallery-thumbs', {
                        spaceBetween: 10,
                        slidesPerView: 4,
                        preloadImages: false,
                        lazyLoading: true,
                        loop: false,
                        freeMode: false,
                        loopedSlides: 5, //looped slides should be the same
                        watchSlidesVisibility: true,
                        watchSlidesProgress: true,
                    }), galleryTop = new Swiper('.gallery-top', {
                        spaceBetween: 10,
                        loop: false,
                        preloadImages: false,
                        lazyLoading: true,
                        loopedSlides: 5, //looped slides should be the same
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                        thumbs: {
                            swiper: galleryThumbs,
                        },
                    }), ld = document.querySelector('.loading'), fadeEnd = function () {
                        var pn = this.parentNode;
                        pn.removeChild(this);


                        var gamemenu = document.getElementById('gamemenu'), gameitem = document.getElementById('gameitem');
                        document.addEventListener("click", function () {
                            gameitem.style.display = 'none';
                        });
                        gamemenu.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            var ht = gameitem.style.display;
                            gameitem.style.display = (ht == '') ? 'none' : '';
                        });

                        var back = document.querySelector('.back'), transTO,
                            transname = whichTransitionEvent()
                            , evtEnd = function () {
                                clearTimeout(transTO);
                                //
                                var that = this;
                                transTO = setTimeout(function () {
                                    back.removeEventListener(transname, evtEnd);
                                    if (that == '0') {
                                        var iframe = back.appendChild(document.createElement('iframe'));
                                        iframe.style.cssText = "border:none;background: linear-gradient(to left,dodgerblue,#345)";
                                        iframe.scrolling = "no";
                                        iframe.onload = function () {
                                            setTimeout(function () {
                                                iframe.contentWindow.trochoi({
                                                    cb: function () {
                                                        //back.previousElementSibling.style.display = '';
                                                        back.addEventListener(transname, evtEnd.bind('1'));
                                                        document.querySelector('#flip-toggle').classList.toggle('hoverx');
                                                    }
                                                });
                                            }, 100);
                                        };
                                        iframe.src = '../games/find02imgs/index.html';
                                        //back.previousElementSibling.style.display = 'none';
                                    } else {
                                        back.innerHTML = '';
                                    }
                                }, 300);
                            }
                        gameitem.addEventListener('click', function (e) {
                            e.preventDefault();
                            e.stopPropagation();
                            if (e.target.id == 'find02img') {
                                back.addEventListener(transname, evtEnd.bind('0'));
                                document.querySelector('#flip-toggle').classList.toggle('hoverx');
                                gameitem.style.display = 'none';
                            } else if (e.target.id == 'openbox') {
                                galleryThumbs.appendSlide(['<div class="swiper-slide" style="background-image:url(1.jpg)"></div>']);
                                galleryTop.appendSlide(['<div class="swiper-slide" style="background-image:url(1.jpg)"></div>']);
                            }
                        });
                        document.body.style.background = "#222"

                    };
                    placeOrder.innerHTML = '<div class="kmribbon noselect"><div class="starburst3"><span><span><span><span><span><span><span><span></span></span></span></span></span></span></span></span></div><span class="dis">GIÁ<div style="font-size: 30px">25.000đ</div>FREE SHIP</span></div>';
                    thumbs.parentNode.appendChild(placeOrder.childNodes[0]);
                    //
                    placeOrder.innerHTML = '<div class="wrapper" style="right:10px;top:unset;bottom:0px">' +
                                            '<ul id="gameitem" style="display:none" class="my-nav my-nav--list">' +
                                                '<div id="wrapper-templates">' +
                                                    '<li class="my-nav__item"><a id="openbox" class="my-nav__link my-nav__link--template">Mở hộp tìm quà</a> </li>' +
                                                    '<li class="my-nav__item"><a id="find02img" class="my-nav__link my-nav__link--template">Lật hình tìm 02 món ăn giống nhau</a> </li>' +
                                                '</div>' +
                                            '</ul>' +
                                            '<a href="javascript:void(0)" id="gamemenu" class="fancy-button bg-gradient2"><span>GAME</span></a>' +
                                        '</div>';
                    thumbs.parentNode.appendChild(placeOrder.childNodes[0]);
                    //
                    ld.addEventListener('animationend', fadeEnd);
                    ld.classList.add('fadeOut');
                });
            });
        })();
    </script>
</body>
</html>